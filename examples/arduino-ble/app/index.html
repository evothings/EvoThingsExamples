<!DOCTYPE html>
<!--
	Licensed to the Apache Software Foundation (ASF) under one
	or more contributor license agreements.  See the NOTICE file
	distributed with this work for additional information
	regarding copyright ownership.  The ASF licenses this file
	to you under the Apache License, Version 2.0 (the
	"License"); you may not use this file except in compliance
	with the License.  You may obtain a copy of the License at

	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing,
	software distributed under the License is distributed on an
	"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	 KIND, either express or implied.  See the License for the
	specific language governing permissions and limitations
	under the License.
-->
<!--
	Description:

	BLE example application that demonstrates how to communicate
	with an Arduino BLE shield.

	Requirements:

	See text in the app user interface.
-->
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Arduino BLE</title>
		<link rel="stylesheet" href="index.css" />
		<script>
		if (window.hyper) { console.log = hyper.log; }

		window.onerror = function(msg, url, line)
		{
			console.log(msg + ": " + url + ":" + line);
		};
		</script>
		<script src="libs/jquery-2.0.3.js"></script>
		<script src="cordova.js"></script>
		<script src="index.js"></script>
		<script>
			app.initialize();
		</script>
	</head>
	<body>
		<h1>Arduino BLE</h1>
		<h3 class="buttonsHeader">LED Control:</h3>
		<h3 class="canvasHeader">Variable resistor value:</h3>
		<div id="controls">
			<button id="on" onclick="app.on();">LED ON</button>
			<button id="off" onclick="app.off();">LED OFF</button>
			<!-- Let the canvas element remain in the #controls div, as the
			canvas element may determine the size of the #controls div which
			in turn affects the position and size of the buttons. -->
			<canvas id="canvas" />
		</div>
		<p>This app shows how to connect to an Arduino BLE shield. Note that you must run this app in the Evothings client app, or build a Cordova app with the plugin com.evothings.ble. Device with support for Bluetooth 4.0 and Android 4.3 or higher required.</p>
		<p><b>Example circuit:</b><br /><img src="arduino-ble-board-sketch.png" style="max-height:30%;" /></p>
		<p><b>How it works:</b> The ON &amp; OFF buttons controls digital pin 2 on the Arduino which is here connected to an LED. The plot shows the input from analog pin A0 which is here connected to a variable resistor (potentiometer). Please experiment with your own circuits and let us know how cool they are!</p>
		<p><b>Troubleshooting:</b> There are known problems with that BLE stops working when switching between apps or doing multiple reloads. In this case restart the Evothings client app. Additionally, you can use the Evothings Workbench Tools to see any error messages that may help in your investigation.</p>
	</body>
</html>
